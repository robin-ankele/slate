
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>EYN API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#enrolments" class="toc-h1 toc-link" data-title="Enrolments">Enrolments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-enrolments" class="toc-h2 toc-link" data-title="Get Enrolments">Get Enrolments</a>
                  </li>
                  <li>
                    <a href="#get-information-about-a-specific-enrolment" class="toc-h2 toc-link" data-title="Get Information about a Specific Enrolment">Get Information about a Specific Enrolment</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='mailto:sales@eyn.vision'>Request a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the EYN Developer API! You can use our API to access EYN&#39;s API endpoints, which can get information on enrolments in our database.</p>

<p>We have language bindings in Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">warrant_lite</span> <span class="kn">import</span> <span class="n">WarrantLite</span>
<span class="n">wl</span> <span class="o">=</span> <span class="n">WarrantLite</span><span class="p">(</span><span class="n">username</span><span class="o">=&lt;</span><span class="n">username</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">password</span><span class="o">=&lt;</span><span class="n">password</span><span class="o">&gt;</span><span class="p">,</span> 
                 <span class="n">pool_id</span><span class="o">=&lt;</span><span class="n">cognito_pool_id</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">client_id</span><span class="o">=&lt;</span><span class="n">cognito_client_id</span><span class="o">&gt;</span><span class="p">,</span> 
                 <span class="n">client_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">tokens</span> <span class="o">=</span> <span class="n">wl</span><span class="o">.</span><span class="n">authenticate_user</span><span class="p">()</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
           <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json; charset=UTF-8'</span><span class="p">,</span>
           <span class="s">'Authorization'</span><span class="p">:</span> <span class="n">tokens</span><span class="p">[</span><span class="s">'AuthenticationResult'</span><span class="p">][</span><span class="s">'IdToken'</span><span class="p">]}</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>username</code> and <code>password</code> with your AWS Cognito credentials. Replace <code>&lt;cognito_pool_id&gt;</code> with <code>eu-west-2_8ZNdnSazL</code> and <code>&lt;cognito_client_id&gt;</code> with <code>4sn0g6boc405tspau0lfl0aiba</code>.</p>
</blockquote>

<p>EYN uses API keys to allow access to the API. Request a EYN API key <a href="mailto:sales@eyn.vision">here</a>.</p>

<p>ENY expects a API key to be included in all API requests to the server. Further, EYN API uses AWS Cognito to authenticate a user. EYN API expects a header to all API requests that looks like the following:</p>

<p><code>&#39;Accept&#39;: &#39;*/*&#39;</code> <br>
<code>&#39;Content-Type&#39;: &#39;application/json; charset=UTF-8&#39;</code> <br>
<code>&#39;Authorization&#39;: &lt;Cognito Id Token&gt;</code></p>

<aside class="notice">
You must replace <code>&#60;Cognito Id Token&#62;</code> with the <code>Id Token</code> response when authenticating to AWS Cognito.
</aside>
<h1 id='enrolments'>Enrolments</h1><h2 id='get-enrolments'>Get Enrolments</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s">'start_time'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
              <span class="s">'end_time'</span><span class="p">:</span> <span class="mi">1554389124</span><span class="p">,</span>
              <span class="s">'eyn_api_key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">eyn</span> <span class="n">api</span> <span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
           <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json; charset=UTF-8'</span><span class="p">,</span>
           <span class="s">'Authorization'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Cognito</span> <span class="n">Id</span> <span class="n">Token</span><span class="o">&gt;</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.eyn-api.com/api/dev/v1/enrolments'</span><span class="p">,</span>
                        <span class="n">params</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.eyn-api.com/api/dev/v1/enrolments?
    eyn_api_key=&lt;your eyn api key&gt;&amp;
    start_time=&lt;start time&gt;&amp;
    end_time=&lt;end time&gt;"</span> 
    -H <span class="s2">"Authorization: &lt;Cognito Id Token&gt;"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"enrolment_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="s2">"enrolment_id"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;enrolment_id_</span><span class="mi">1</span><span class="err">&gt;</span><span class="p">},</span><span class="w">
                   </span><span class="p">{</span><span class="s2">"enrolment_id"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;enrolment_id_</span><span class="mi">2</span><span class="err">&gt;</span><span class="p">},</span><span class="w">
                   </span><span class="err">...</span><span class="w">
                   </span><span class="p">{</span><span class="s2">"enrolment_id"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;enrolment_id_n&gt;</span><span class="p">}]}</span><span class="w">
</span></code></pre>
<p>This endpoint returns a list of enrolment ids.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.eyn-api.com/api/dev/v1/enrolments</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>eyn_api_key</td>
<td style="text-align: center">-</td>
<td>Required</td>
<td>The <strong><em>api_key</em></strong> of EYN to access the endpoints.</td>
</tr>
<tr>
<td>start_time</td>
<td style="text-align: center">0</td>
<td>Optional</td>
<td>If <strong><em>start_time</em></strong> is set, then the response contains all enrolments from this point in time.</td>
</tr>
<tr>
<td>end_time</td>
<td style="text-align: center">request time</td>
<td>Optional</td>
<td>If <strong><em>end_time</em></strong> is set, then the response contains all enrolments up to this point in time.</td>
</tr>
</tbody></table>

<!---
<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside>

<aside class="warning">Inside HTML code blocks like this one, you can't use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>
-->
<h2 id='get-information-about-a-specific-enrolment'>Get Information about a Specific Enrolment</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s">'eyn_api_key'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">eyn</span> <span class="n">api</span> <span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Accept'</span><span class="p">:</span> <span class="s">'*/*'</span><span class="p">,</span>
           <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json; charset=UTF-8'</span><span class="p">,</span>
           <span class="s">'Authorization'</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Cognito</span> <span class="n">Id</span> <span class="n">Token</span><span class="o">&gt;</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'https://api.eyn-api.com/api/dev/v1/enrolments/&lt;enrolment_id&gt;'</span><span class="p">,</span>
                        <span class="n">params</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.eyn-api.com/api/dev/v1/enrolments/&lt;enrolment_id&gt;?
    eyn_api_key=&lt;your eyn api key&gt;"</span> 
    -H <span class="s2">"Authorization: &lt;Cognito Id Token&gt;"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"other_names"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"family_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19700101"</span><span class="p">,</span><span class="w">
 </span><span class="s2">"images"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"link_identity_document_chip_face"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;link&gt;</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"link_identity_document_image_front"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;link&gt;</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link_identity_document_image_mrz"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;link&gt;</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link_user_selfie"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;link&gt;</span><span class="p">},</span><span class="w">
  </span><span class="s2">"right_to_work_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"warn"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mrz_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"is_biometric"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns information about a specific enrolment.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.eyn-api.com/api/dev/v1/enrolments/{enrolment_id}</code></p>

<aside class="notice">
You must replace <code>{enrolment_id}</code> with a valid enrolment id (e.g. retrieved via <a href="#get-enrolments" style="text-decoration: none"><code>/enrolment</code></a>).
</aside>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th style="text-align: center">Default</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>eyn_api_key</td>
<td style="text-align: center">-</td>
<td>Required</td>
<td>The <strong><em>api_key</em></strong> of EYN to access the endpoints.</td>
</tr>
<tr>
<td>enrolment_id</td>
<td style="text-align: center">-</td>
<td>Required</td>
<td>The <strong><em>enrolment_id</em></strong> for that specific information is requested. An &#39;enrolment_id&#39; can be retrieved via <a href="#get-enrolments" style="text-decoration: none"><code>/enrolment</code></a>.</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The EYN API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid. Investigate the parameters of your API call. The error message contains pointers what has gone wrong.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your Cognito Id Token is wrong. Every query must contain a header with a valid Cognito Id Token (see <a href="#authentication">Authentication</a> for details.)</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
